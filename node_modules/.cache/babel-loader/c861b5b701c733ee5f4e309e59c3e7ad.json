{"ast":null,"code":"var _jsxFileName = \"/Users/nhatngo/Downloads/demo-chatbot-master/frontend/src/container/ChatView.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React from \"react\";\nimport { useEffect, useState } from \"react/cjs/react.development\";\nimport \"../base/chatview.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ChatView({\n  location\n}) {\n  _s();\n\n  const [user, setUser] = useState(''); // useEffect(() => {\n  //     if (location.pathname === '/Chatview') {\n  //       setUser('user_' + new Date().getTime())\n  //     }\n  // }, [location])\n\n  useEffect(() => {\n    console.log(\"====>>> chatView\");\n  });\n  const [messages, setMessages] = useState([]);\n  const [messageInput, setMessageInput] = useState('');\n\n  const reset = () => {\n    setMessages([]);\n    setUser('user_' + new Date().getTime());\n    setMessageInput('');\n  };\n\n  const sendMessage = async () => {\n    try {\n      setMessageInput('');\n      setMessages(prev => prev.concat({\n        type: 'user',\n        message: messageInput\n      }));\n      const {\n        data\n      } = await axios.post(window.location.hostname + ':5000' + '/chat', {\n        sender: user,\n        message: messageInput\n      });\n\n      if (data.length > 0) {\n        setMessages(prev => prev.concat({\n          type: 'bot',\n          message: data[0].text\n        }));\n      }\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chat-tab\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"box-chat\",\n      children: [messages.map(m => m.type === 'bot' ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"boss-chat\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: m.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-chat\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: m.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 13\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-send\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Input your message\",\n          onKeyDown: e => (e.keyCode ? e.keyCode : e.which) === 13 && sendMessage(),\n          value: messageInput,\n          onChange: e => setMessageInput(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"resetbtn\",\n          onClick: reset,\n          children: \"Xo\\xE1 h\\u1ED9i tho\\u1EA1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"sendbtn\",\n          onClick: sendMessage,\n          children: \"G\\u1EEDi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ChatView, \"5tpasfbfcwEeXBdzfX6Lq8vmPSQ=\");\n\n_c = ChatView;\nexport default ChatView;\n\nvar _c;\n\n$RefreshReg$(_c, \"ChatView\");","map":{"version":3,"sources":["/Users/nhatngo/Downloads/demo-chatbot-master/frontend/src/container/ChatView.jsx"],"names":["axios","React","useEffect","useState","ChatView","location","user","setUser","console","log","messages","setMessages","messageInput","setMessageInput","reset","Date","getTime","sendMessage","prev","concat","type","message","data","post","window","hostname","sender","length","text","e","map","m","keyCode","which","target","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React from \"react\";\nimport { useEffect, useState } from \"react/cjs/react.development\";\nimport \"../base/chatview.css\";\n\nfunction ChatView({location}) {\n  const [user, setUser] = useState('')\n  // useEffect(() => {\n  //     if (location.pathname === '/Chatview') {\n  //       setUser('user_' + new Date().getTime())\n  //     }\n  // }, [location])\n  useEffect(() => {\n    console.log(\"====>>> chatView\")\n  })\n  const [messages, setMessages] = useState([])\n  const [messageInput, setMessageInput] = useState('')\n\n  const reset = () => {\n    setMessages([])\n    setUser('user_' + new Date().getTime())\n    setMessageInput('')\n  }\n\n  const sendMessage = async () => {\n    try {\n      setMessageInput('')\n      setMessages(prev => prev.concat({type: 'user', message: messageInput}))\n      const {data} = await axios.post(window.location.hostname + ':5000' + '/chat', {sender: user, message: messageInput}) \n      if (data.length > 0) {\n        setMessages(prev => prev.concat({type: 'bot', message: data[0].text}))\n      }\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  return (\n    <div className=\"chat-tab\">\n      <div className=\"box-chat\">\n        {messages.map(m => (\n          m.type === 'bot'\n          ? <div className=\"boss-chat\">\n              <h5>{m.message}</h5>\n            </div>\n          : <div className=\"user-chat\">\n              <h5>{m.message}</h5>\n            </div>\n        ))}\n        <div className=\"chat-send\">\n          <input placeholder=\"Input your message\"\n            onKeyDown={e => (e.keyCode ? e.keyCode : e.which) === 13 && sendMessage()}\n            value={messageInput}\n            onChange={e => setMessageInput(e.target.value)} />\n          <h3 className=\"resetbtn\" onClick={reset}>\n            Xoá hội thoại\n          </h3>\n          <h3 className=\"sendbtn\" onClick={sendMessage}>Gửi</h3>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ChatView;\n"]},"metadata":{},"sourceType":"module"}